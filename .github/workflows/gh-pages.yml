name: github pages

on:
    push:
        branches:
            - develop

jobs:
    deploy:
        runs-on: ubuntu-18.04
        steps: 
            - uses: actions/checkout@v2

            - name: setup node
              uses: actions/setup-node@v1
              with:
                  node-version: '10.x'

            - name: build
              run: yarn docs:build

            - name: deploy
              uses: peaceiris/actions-gh-pages@v3
              with:
                    deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
                    publish_dir: ./docs/.vuepress/dist
                    publish_branch: master
